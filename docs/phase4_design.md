# Phase 4: å…¥åŠ›ç”»é¢ â€” è©³ç´°è¨­è¨ˆæ›¸

## æ¦‚è¦

ãƒ¬ã‚·ãƒ¼ãƒˆï¼ˆæ”¯å‡º/åå…¥ï¼‰ã®å…¥åŠ›ç”»é¢ã‚’å®Ÿè£…ã™ã‚‹ã€‚ä¸Šéƒ¨ã‚¿ãƒ–ã§æ”¯å‡ºãƒ»åå…¥ã‚’åˆ‡ã‚Šæ›¿ãˆã€æ—¥ä»˜ãƒ»ãƒ¡ãƒ¢ã‚’å…¥åŠ›ã—ã€æ˜ç´°ã‚’ãƒ‰ãƒ­ãƒ¯ãƒ¼ã§è¿½åŠ ã™ã‚‹ã€‚

---

## ç”»é¢ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [æ”¯å‡º]  [åå…¥]  ã‚¿ãƒ– â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â—€ ğŸ“… 2026-02-22 â–¶   â”‚
â”‚  ğŸ“ ãƒ¡ãƒ¢å…¥åŠ›          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  åˆè¨ˆ: Â¥1,300         â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ğŸ” é£Ÿè²»  Â¥800        â”‚
â”‚  ğŸšƒ äº¤é€šè²» Â¥500       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚  ï¼‹ æ˜ç´°è¿½åŠ ãƒœã‚¿ãƒ³     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ä¿å­˜]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

> [!IMPORTANT]
>
> - æ—¥ä»˜ã®å·¦å³ã« **â—€ â–¶ ãƒœã‚¿ãƒ³**ã§1æ—¥ãšã¤å¤‰æ›´å¯èƒ½
> - **åˆè¨ˆã¯æ˜ç´°ãƒªã‚¹ãƒˆã®ä¸Š**ã«è¡¨ç¤º
> - ä¿å­˜å®Œäº†å¾Œã¯**å…¥åŠ›ã‚’ãƒªã‚»ãƒƒãƒˆ**ï¼ˆæ—¥ä»˜ã¯ä»Šæ—¥ã«æˆ»ã™ã€æ˜ç´°ã‚¯ãƒªã‚¢ï¼‰+ **ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥**

---

## ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆ

### ã‚µãƒ¼ãƒãƒ¼ API

#### [NEW] [/api/categories/+server.ts](file:///home/clagon/repos/kakeibo-antigrav/src/routes/api/categories/+server.ts)

`GET` â€” ã‚«ãƒ†ã‚´ãƒªãƒ¼ä¸€è¦§å–å¾—ã€‚`?type=expense|income` ã§ãƒ•ã‚£ãƒ«ã‚¿ã€‚

#### [NEW] [/api/receipts/+server.ts](file:///home/clagon/repos/kakeibo-antigrav/src/routes/api/receipts/+server.ts)

`POST` â€” ãƒ¬ã‚·ãƒ¼ãƒˆ + æ˜ç´°ã‚’ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ã§ä¸€æ‹¬ä¿å­˜ã€‚

---

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

#### [MODIFY] [+page.svelte](file:///home/clagon/repos/kakeibo-antigrav/src/routes/+page.svelte)

å…¥åŠ›ç”»é¢æœ¬ä½“ã€‚ã‚¿ãƒ–åˆ‡æ›¿ã€æ—¥ä»˜ï¼ˆÂ±ãƒœã‚¿ãƒ³ä»˜ãï¼‰ã€ãƒ¡ãƒ¢ã€åˆè¨ˆè¡¨ç¤ºã€æ˜ç´°ãƒªã‚¹ãƒˆã€ä¿å­˜ãƒœã‚¿ãƒ³ã€‚

#### [NEW] [LineItemDrawer.svelte](file:///home/clagon/repos/kakeibo-antigrav/src/lib/components/LineItemDrawer.svelte)

ä¸‹ã‹ã‚‰ã‚¹ãƒ©ã‚¤ãƒ‰ã™ã‚‹ãƒ‰ãƒ­ãƒ¯ãƒ¼ï¼š

- ã‚«ãƒ†ã‚´ãƒªãƒ¼ã‚°ãƒªãƒƒãƒ‰ï¼ˆ**ã‚¢ã‚¤ã‚³ãƒ³ã¯ã‚«ãƒ†ã‚´ãƒªè‰²**ã€ãƒ©ãƒ™ãƒ«ã¯ãƒ†ã‚­ã‚¹ãƒˆè‰²ï¼‰
- **ãƒ†ãƒ³ã‚­ãƒ¼é¢¨ã®æ•°å€¤å…¥åŠ›**
- ãƒ¡ãƒ¢å…¥åŠ›
- è¿½åŠ  / ã‚­ãƒ£ãƒ³ã‚»ãƒ«ãƒœã‚¿ãƒ³

#### [NEW] [CategoryGrid.svelte](file:///home/clagon/repos/kakeibo-antigrav/src/lib/components/CategoryGrid.svelte)

ã‚«ãƒ†ã‚´ãƒªãƒ¼é¸æŠã‚°ãƒªãƒƒãƒ‰ã€‚ã‚¢ã‚¤ã‚³ãƒ³ã¯**ã‚«ãƒ†ã‚´ãƒªãƒ¼ã«è¨­å®šã•ã‚ŒãŸè‰²**ã§æç”»ã€‚

#### [NEW] [LineItemList.svelte](file:///home/clagon/repos/kakeibo-antigrav/src/lib/components/LineItemList.svelte)

è¿½åŠ æ¸ˆã¿æ˜ç´°ãƒªã‚¹ãƒˆã€‚ç·¨é›†ãƒ»å‰Šé™¤å¯èƒ½ã€‚

#### [NEW] [NumPad.svelte](file:///home/clagon/repos/kakeibo-antigrav/src/lib/components/NumPad.svelte)

ãƒ†ãƒ³ã‚­ãƒ¼é¢¨é‡‘é¡å…¥åŠ›ã€‚0ã€œ9ã€00ã€ãƒãƒƒã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã€ã‚¯ãƒªã‚¢ã€‚

#### [NEW] [LucideIcon.svelte](file:///home/clagon/repos/kakeibo-antigrav/src/lib/components/LucideIcon.svelte)

ã‚¢ã‚¤ã‚³ãƒ³åâ†’lucide-svelteã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å‹•çš„æç”»ãƒ©ãƒƒãƒ‘ãƒ¼ã€‚

#### [NEW] [Toast.svelte](file:///home/clagon/repos/kakeibo-antigrav/src/lib/components/Toast.svelte)

ä¿å­˜å®Œäº†æ™‚ã®ãƒˆãƒ¼ã‚¹ãƒˆé€šçŸ¥ã€‚

---

## ä¿å­˜å¾Œã®æŒ™å‹•

1. API ã«ãƒ¬ã‚·ãƒ¼ãƒˆã‚’ `POST`
2. æˆåŠŸæ™‚: å…¥åŠ›ãƒ•ã‚©ãƒ¼ãƒ ã‚’**ãƒªã‚»ãƒƒãƒˆ**ï¼ˆæ—¥ä»˜â†’ä»Šæ—¥ã€ãƒ¡ãƒ¢â†’ç©ºã€æ˜ç´°â†’ç©ºï¼‰
3. **ãƒˆãƒ¼ã‚¹ãƒˆ**ã§ã€Œä¿å­˜ã—ã¾ã—ãŸã€ã‚’è¡¨ç¤ºï¼ˆ2ã€œ3ç§’å¾Œã«è‡ªå‹•æ¶ˆå¤±ï¼‰
4. ã‚¨ãƒ©ãƒ¼æ™‚: ãƒˆãƒ¼ã‚¹ãƒˆã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º

---

## æ¤œè¨¼

- ã‚«ãƒ†ã‚´ãƒªãƒ¼ API ãŒæ”¯å‡º/åå…¥åˆ¥ã«æ­£ã—ãè¿”ã™
- ãƒ‰ãƒ­ãƒ¯ãƒ¼ã§æ˜ç´°è¿½åŠ  â†’ ãƒªã‚¹ãƒˆã«è¡¨ç¤º
- æ—¥ä»˜ã® â—€ â–¶ ã§1æ—¥ãšã¤å¤‰æ›´
- ãƒ†ãƒ³ã‚­ãƒ¼ã§é‡‘é¡å…¥åŠ›
- ä¿å­˜ â†’ DBä¿å­˜ â†’ ãƒ•ã‚©ãƒ¼ãƒ ãƒªã‚»ãƒƒãƒˆ â†’ ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤º
- `npm run lint` / `npm run build` ãƒ‘ã‚¹
